/*
 * This source file was generated by the Gradle 'init' task
 */
package net.example;

import com.hypixel.hytale.server.core.event.events.player.PlayerReadyEvent;
import com.hypixel.hytale.server.core.plugin.JavaPlugin;
import com.hypixel.hytale.server.core.plugin.JavaPluginInit;
import com.hypixel.hytale.logger.HytaleLogger;
import net.example.Commands.ItemCommand;
import net.example.Events.ExampleEvent;

/**
 * Main plugin class.
 */
public class ExamplePlugin extends JavaPlugin {

    private static ExamplePlugin instance;
    private static final HytaleLogger logger = HytaleLogger.forEnclosingClass();

    /**
     * Constructor - Called when plugin is loaded.
     * Ensures that the JavaPluginInit reference is not null.
     *
     * @param init the plugin initialization object (must not be null)
     * @throws NullPointerException if init is null
     */
    public ExamplePlugin(JavaPluginInit init)
    {
        super(init);
        instance = this;
        logger.atInfo().log("Plugin loaded!");
    }

    @Override
    public void setup()
    {
        logger.atInfo().log("Plugin enabled! test4444");
        this.getCommandRegistry().registerCommand(new ItemCommand());
        this.getEventRegistry().registerGlobal(PlayerReadyEvent.class, ExampleEvent::onPlayerReady);
    }


    @Override
    public void shutdown() {
        logger.atInfo().log("Plugin disabled!");
    }


    public static ExamplePlugin getInstance() {
        return instance;
    }
}
